# üó∫Ô∏è –§—É–Ω–∫—Ü–∏—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –≤ SafeRoute

## –û–ø–∏—Å–∞–Ω–∏–µ

–¢–µ–ø–µ—Ä—å –ø—Ä–æ–µ–∫—Ç –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç **–Ω–∞–≤–∏–≥–∞—Ü–∏—é –æ—Ç —Ç–µ–∫—É—â–µ–≥–æ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–æ –≤—ã–±—Ä–∞–Ω–Ω–æ–π —Ç–æ—á–∫–∏** (–Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–æ –∏–Ω—Ü–∏–¥–µ–Ω—Ç–∞ –Ω–∞ –∫–∞—Ä—Ç–µ).

## –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### 1. **–ü–æ–ª—É—á–µ–Ω–∏–µ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è**
- –ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –±—Ä–∞—É–∑–µ—Ä –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –Ω–∞ –¥–æ—Å—Ç—É–ø –∫ –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏
- –¢–µ–∫—É—â–µ–µ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —Å–∏–Ω–∏–º –º–∞—Ä–∫–µ—Ä–æ–º –Ω–∞ –∫–∞—Ä—Ç–µ
- –ú–æ–∂–Ω–æ –≤—Ä—É—á–Ω—É—é –∑–∞–ø—Ä–æ—Å–∏—Ç—å –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ –∫–Ω–æ–ø–∫–æ–π "üìç –ú–æ–µ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ"

### 2. **–ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –º–∞—Ä—à—Ä—É—Ç–∞**
- –ü—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ –∏–Ω—Ü–∏–¥–µ–Ω—Ç –≤ –ø–æ–ø–∞–ø–µ –ø–æ—è–≤–ª—è–µ—Ç—Å—è –∫–Ω–æ–ø–∫–∞ "üó∫Ô∏è –ü–æ—Å—Ç—Ä–æ–∏—Ç—å –º–∞—Ä—à—Ä—É—Ç"
- –ú–∞—Ä—à—Ä—É—Ç —Å—Ç—Ä–æ–∏—Ç—Å—è —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º **OSRM API** (Open Source Routing Machine)
- –ú–∞—Ä—à—Ä—É—Ç –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —Å–∏–Ω–µ–π –ª–∏–Ω–∏–µ–π –Ω–∞ –∫–∞—Ä—Ç–µ
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è: —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ (–∫–º) –∏ –ø—Ä–∏–º–µ—Ä–Ω–æ–µ –≤—Ä–µ–º—è –≤ –ø—É—Ç–∏ (–º–∏–Ω—É—Ç—ã)

### 3. **–û—á–∏—Å—Ç–∫–∞ –º–∞—Ä—à—Ä—É—Ç–∞**
- –ö–Ω–æ–ø–∫–∞ "‚úï –û—á–∏—Å—Ç–∏—Ç—å –º–∞—Ä—à—Ä—É—Ç" —É–¥–∞–ª—è–µ—Ç –º–∞—Ä—à—Ä—É—Ç —Å –∫–∞—Ä—Ç—ã

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏:
- **OSRM API** - –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π API –¥–ª—è –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –º–∞—Ä—à—Ä—É—Ç–æ–≤ (–±–µ–∑ API –∫–ª—é—á–∞)
- **Geolocation API** - –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –±—Ä–∞—É–∑–µ—Ä–Ω—ã–π API –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏—è
- **React Leaflet Polyline** - –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –º–∞—Ä—à—Ä—É—Ç–∞ –Ω–∞ –∫–∞—Ä—Ç–µ

### API Endpoint:
```
https://router.project-osrm.org/route/v1/driving/{lon1},{lat1};{lon2},{lat2}?overview=full&geometries=geojson
```

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:
1. –û—Ç–∫—Ä–æ–π—Ç–µ –∫–∞—Ä—Ç—É —Å –∏–Ω—Ü–∏–¥–µ–Ω—Ç–∞–º–∏
2. –ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ –ª—é–±–æ–π –∏–Ω—Ü–∏–¥–µ–Ω—Ç (–º–∞—Ä–∫–µ—Ä –Ω–∞ –∫–∞—Ä—Ç–µ)
3. –í –ø–æ—è–≤–∏–≤—à–µ–º—Å—è –ø–æ–ø–∞–ø–µ –Ω–∞–∂–º–∏—Ç–µ "üó∫Ô∏è –ü–æ—Å—Ç—Ä–æ–∏—Ç—å –º–∞—Ä—à—Ä—É—Ç"
4. –†–∞–∑—Ä–µ—à–∏—Ç–µ –¥–æ—Å—Ç—É–ø –∫ –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏ (–µ—Å–ª–∏ –µ—â–µ –Ω–µ —Ä–∞–∑—Ä–µ—à–∏–ª–∏)
5. –ú–∞—Ä—à—Ä—É—Ç –±—É–¥–µ—Ç –ø–æ—Å—Ç—Ä–æ–µ–Ω –∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω –Ω–∞ –∫–∞—Ä—Ç–µ

### –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞:

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
- `LocationMarker` - –ø–æ–ª—É—á–∞–µ—Ç –∏ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `Polyline` - –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –º–∞—Ä—à—Ä—É—Ç –Ω–∞ –∫–∞—Ä—Ç–µ
- `calculateRoute()` - —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –º–∞—Ä—à—Ä—É—Ç–∞ —á–µ—Ä–µ–∑ OSRM API

**–°–æ—Å—Ç–æ—è–Ω–∏—è:**
- `userLocation` - —Ç–µ–∫—É—â–µ–µ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è `[lat, lon]`
- `route` - –º–∞—Å—Å–∏–≤ —Ç–æ—á–µ–∫ –º–∞—Ä—à—Ä—É—Ç–∞ `[[lat, lon], ...]`
- `routeInfo` - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –º–∞—Ä—à—Ä—É—Ç–µ (—Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ, –≤—Ä–µ–º—è)

## –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

1. **OSRM Demo Server:**
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—É–±–ª–∏—á–Ω—ã–π –¥–µ–º–æ-—Å–µ—Ä–≤–µ—Ä OSRM
   - –ú–æ–∂–µ—Ç –∏–º–µ—Ç—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É –∑–∞–ø—Ä–æ—Å–æ–≤
   - –î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π OSRM —Å–µ—Ä–≤–µ—Ä

2. **–ì–µ–æ–ª–æ–∫–∞—Ü–∏—è:**
   - –¢—Ä–µ–±—É–µ—Ç —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
   - –ú–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ—Ç–æ—á–Ω–æ–π –≤ –ø–æ–º–µ—â–µ–Ω–∏–∏
   - –ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ HTTPS (–∫—Ä–æ–º–µ localhost)

3. **–ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è:**
   - –†–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –¥–ª—è –∞–≤—Ç–æ–º–æ–±–∏–ª—å–Ω—ã—Ö –º–∞—Ä—à—Ä—É—Ç–æ–≤ (driving)
   - –ù–µ —É—á–∏—Ç—ã–≤–∞–µ—Ç –ø–µ—à–µ—Ö–æ–¥–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã –∏–ª–∏ –æ–±—â–µ—Å—Ç–≤–µ–Ω–Ω—ã–π —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç

## –ë—É–¥—É—â–∏–µ —É–ª—É—á—à–µ–Ω–∏—è

- [ ] –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–µ—à–µ—Ö–æ–¥–Ω—ã—Ö –º–∞—Ä—à—Ä—É—Ç–æ–≤
- [ ] –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤–µ–ª–æ—Å–∏–ø–µ–¥–Ω—ã—Ö –º–∞—Ä—à—Ä—É—Ç–æ–≤
- [ ] –ü–æ—à–∞–≥–æ–≤–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è —Å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–º OSRM —Å–µ—Ä–≤–µ—Ä–æ–º
- [ ] –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –º–∞—Ä—à—Ä—É—Ç–æ–≤
- [ ] –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã

## –ü—Ä–∏–º–µ—Ä –∫–æ–¥–∞

```javascript
// –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –º–∞—Ä—à—Ä—É—Ç–∞
const calculateRoute = async (from, to) => {
  const url = `https://router.project-osrm.org/route/v1/driving/${from[1]},${from[0]};${to[1]},${to[0]}?overview=full&geometries=geojson`
  const response = await fetch(url)
  const data = await response.json()
  
  if (data.code === 'Ok') {
    const routePath = data.routes[0].geometry.coordinates.map(coord => [coord[1], coord[0]])
    // –û—Ç–æ–±—Ä–∞–∑–∏—Ç—å routePath –Ω–∞ –∫–∞—Ä—Ç–µ
  }
}
```


